the new solution for commit